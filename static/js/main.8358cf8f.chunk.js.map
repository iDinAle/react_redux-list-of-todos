{"version":3,"sources":["api/getTodosFromServer.js","api/getUsersFromServer.js","store.js","TodoItem.js","TodoList.js","App.js","index.js"],"names":["getTodosFromServer","response","regenerator_default","a","async","_context","prev","next","awrap","fetch","sent","abrupt","json","stop","getUsersFromServer","getIsLoading","state","isLoading","getIsError","isError","getCombinedTodos","combinedTodos","getActiveColumn","activeColumn","getDirection","direction","store","createStore","action","type","Object","objectSpread2","applyMiddleware","thunk","TodoItem","_ref","item","react_default","createElement","id","title","completed","user","name","HEADERS","getMethods","setCurrentColumn","setCurrentDirection","connect","list","callback","string","b","localeCompare","number","boolean","object","sortedTodos","sort","reverse","keys","map","header","onClick","clickedColumn","key","todo","src_TodoItem","loadData","dispatch","_ref2","todosData","usersData","combinedData","Promise","all","slicedToArray","find","userId","t0","className","length","src_TodoList","Fragment","ReactDOM","render","es","src_App_0","document","getElementById"],"mappings":"kPAEaA,EAAqB,eAAAC,EAAA,OAAAC,EAAAC,EAAAC,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EAAAL,EAAAC,EAAAK,MACTC,MAHP,+CAEgB,cAC1BR,EAD0BI,EAAAK,KAAAL,EAAAM,OAAA,SAGzBV,EAASW,QAHgB,wBAAAP,EAAAQ,WCArBC,EAAqB,eAAAb,EAAA,OAAAC,EAAAC,EAAAC,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EAAAL,EAAAC,EAAAK,MACTC,MAHP,+CAEgB,cAC1BR,EAD0BI,EAAAK,KAAAL,EAAAM,OAAA,SAGzBV,EAASW,QAHgB,wBAAAP,EAAAQ,WC2CrBE,EAAe,SAAAC,GAAK,OAAIA,EAAMC,WAC9BC,EAAa,SAAAF,GAAK,OAAIA,EAAMG,SAC5BC,EAAmB,SAAAJ,GAAK,OAAIA,EAAMK,eAClCC,EAAkB,SAAAN,GAAK,OAAIA,EAAMO,cACjCC,EAAe,SAAAR,GAAK,OAAIA,EAAMS,WAwD5BC,EANDC,YAxCE,SAACX,EAAOY,GACtB,OAAQA,EAAOC,MACb,IAxDkB,gBAyDhB,OAAOC,OAAAC,EAAA,EAAAD,CAAA,GACFd,EADL,CAEEC,WAAW,EACXE,SAAS,IAGb,IA9DmB,iBA+DjB,OAAOW,OAAAC,EAAA,EAAAD,CAAA,GACFd,EADL,CAEEK,cAAeO,EAAOP,cACtBJ,WAAW,IAGf,IApEiB,eAqEf,OAAOa,OAAAC,EAAA,EAAAD,CAAA,GACFd,EADL,CAEEC,WAAW,EACXE,SAAS,IAGb,IA1EsB,oBA2EpB,OAAOW,OAAAC,EAAA,EAAAD,CAAA,GACFd,EADL,CAEEO,aAAcK,EAAOL,eAGzB,IA/EkB,gBAgFhB,OAAOO,OAAAC,EAAA,EAAAD,CAAA,GACFd,EADL,CAEES,UAAWG,EAAOH,YAGtB,QACE,OAAOT,IA5CQ,CACnBK,cAAe,GACfJ,WAAW,EACXE,SAAS,EACTI,aAAc,GACdE,UAAW,OA8CXO,YAAgBC,MCjFHC,EAlBE,SAAAC,GAAA,IAAGC,EAAHD,EAAGC,KAAH,OACfC,EAAAlC,EAAAmC,cAAA,UACED,EAAAlC,EAAAmC,cAAA,UAAKF,EAAKG,IACVF,EAAAlC,EAAAmC,cAAA,UAAKF,EAAKI,OACVH,EAAAlC,EAAAmC,cAAA,UAAKF,EAAKK,UAAY,MAAQ,MAC9BJ,EAAAlC,EAAAmC,cAAA,UAAKF,EAAKM,KAAKC,QCGbC,EAAU,CACdL,GAAI,KACJC,MAAO,cACPC,UAAW,gBACXC,KAAM,sBAwDFG,EAAa,CACjBC,iBFvD6B,SAAAvB,GAAY,MAAK,CAC9CM,KAVwB,oBAWxBN,iBEsDAwB,oBFpD0B,SAAAtB,GAAS,MAAK,CACxCI,KAboB,gBAcpBJ,eE+DauB,cApBC,SAAAhC,GAAK,MAAK,CACxBO,aAAcD,EAAgBN,GAC9BS,UAAWD,EAAaR,KAkBM6B,EAAjBG,CApEE,SAAAb,GAEZ,IADDc,EACCd,EADDc,KAAM1B,EACLY,EADKZ,aAAcE,EACnBU,EADmBV,UAAWqB,EAC9BX,EAD8BW,iBAAkBC,EAChDZ,EADgDY,oBAkB7CG,EAPK,CACTC,OAAQ,SAAChD,EAAGiD,GAAJ,OAAUjD,EAAEoB,GAAc8B,cAAcD,EAAE7B,KAClD+B,OAAQ,SAACnD,EAAGiD,GAAJ,OAAUjD,EAAEoB,GAAgB6B,EAAE7B,IACtCgC,QAAS,SAACpD,EAAGiD,GAAJ,OAAUA,EAAE7B,GAAgBpB,EAAEoB,IACvCiC,OAAQ,SAACrD,EAAGiD,GAAJ,OAAUjD,EAAEoB,GAAcoB,KAAKU,cAAcD,EAAE7B,GAAcoB,eAE/CM,EAAK,GAAG1B,KACE,kBAAM,GAClCkC,EAAcR,EAAKS,KAAKR,GAM9B,MAJkB,SAAdzB,GACFgC,EAAYE,UAIZtB,EAAAlC,EAAAmC,cAAA,aACED,EAAAlC,EAAAmC,cAAA,aACED,EAAAlC,EAAAmC,cAAA,UACGR,OAAO8B,KAAKhB,GAASiB,IAAI,SAAAC,GAAM,OAC9BzB,EAAAlC,EAAAmC,cAAA,MACEyB,QAAS,WA7BJ,IAACC,EACZzC,KADYyC,EA6BkBF,IA3BhCf,EAAoB,OACpBD,EAAiBkB,IAEjBjB,EAAkC,QAAdtB,EAAsB,OAAS,QAyB3CwC,IAAKH,GAEJlB,EAAQkB,QAKjBzB,EAAAlC,EAAAmC,cAAA,aACGmB,EAAYI,IAAI,SAAAK,GAAI,OACnB7B,EAAAlC,EAAAmC,cAAC6B,EAAD,CAAUF,IAAKC,EAAK3B,GAAIH,KAAM8B,UCdlCrB,SAAa,CAAEuB,SHpBa,kBAAM,SAAMC,GAAN,IAAAlC,EAAAmC,EAAAC,EAAAC,EAAAC,EAAA,OAAAvE,EAAAC,EAAAC,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACtC8D,EAhBiC,CAAExC,KANf,kBAqBkBxB,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAAAL,EAAAC,EAAAK,MAICkE,QAAQC,IAAI,CAC/C3E,IACAc,OANkC,cAAAqB,EAAA9B,EAAAK,KAAA4D,EAAAxC,OAAA8C,EAAA,EAAA9C,CAAAK,EAAA,GAI7BoC,EAJ6BD,EAAA,GAIlBE,EAJkBF,EAAA,GAS9BG,EAAeF,EAAUV,IAAI,SAAAK,GAAI,OAAApC,OAAAC,EAAA,EAAAD,CAAA,GAClCoC,EADkC,CAErCxB,KAAM8B,EAAUK,KAAK,SAAAnC,GAAI,OAAIA,EAAKH,KAAO2B,EAAKY,aAXZzE,EAAAM,OAAA,SAc7B0D,EA3BoC,CAC7CxC,KARqB,iBASrBR,cAyBgCoD,KAdM,QAAApE,EAAAC,KAAA,GAAAD,EAAA0E,GAAA1E,EAAA,SAgBpCgE,EA9B8B,CAAExC,KALf,iBAmBmB,yBAAAxB,EAAAQ,SAAA,wBG+BzBmC,cAjBC,SAAAhC,GAAK,MAAK,CACxBK,cAAeD,EAAiBJ,GAChCC,UAAWF,EAAaC,GACxBG,QAASD,EAAWF,KAcU6B,EAAjBG,CA7CH,SAAAb,GAAqD,IAAlDd,EAAkDc,EAAlDd,cAAeJ,EAAmCkB,EAAnClB,UAAWE,EAAwBgB,EAAxBhB,QAASiD,EAAejC,EAAfiC,SAKhD,OACE/B,EAAAlC,EAAAmC,cAAA,OAAK0C,UAAU,OACb3C,EAAAlC,EAAAmC,cAAA,8CAECjB,EAAc4D,OACb5C,EAAAlC,EAAAmC,cAAC4C,EAAD,CAAUjC,KAAM5B,IAEhBgB,EAAAlC,EAAAmC,cAAAD,EAAAlC,EAAAgF,SAAA,KACE9C,EAAAlC,EAAAmC,cAAA,UAAKnB,EAAU,mBAAqB,oBAEpCkB,EAAAlC,EAAAmC,cAAA,UACE0C,UAAU,WACVnD,KAAK,SACLkC,QAjBe,kBAAA7D,EAAAC,EAAAC,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EAAAL,EAAAC,EAAAK,MACjB4D,KADiB,wBAAA/D,EAAAQ,YAmBdI,EAAY,aAAe,qBC1BxCmE,IAASC,OACPhD,EAAAlC,EAAAmC,cAACgD,EAAA,EAAD,CAAU5D,MAAOA,GACfW,EAAAlC,EAAAmC,cAACiD,EAAD,OAGFC,SAASC,eAAe","file":"static/js/main.8358cf8f.chunk.js","sourcesContent":["const TODOS_URL = 'https://jsonplaceholder.typicode.com/todos';\n\nexport const getTodosFromServer = async() => {\n  const response = await fetch(TODOS_URL);\n\n  return response.json();\n};\n","const USERS_URL = 'https://jsonplaceholder.typicode.com/users';\n\nexport const getUsersFromServer = async() => {\n  const response = await fetch(USERS_URL);\n\n  return response.json();\n};\n","import { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport { getTodosFromServer } from './api/getTodosFromServer';\nimport { getUsersFromServer } from './api/getUsersFromServer';\n\nconst START_LOADING = 'START_LOADING';\nconst HANDLE_SUCCESS = 'HANDLE_SUCCESS';\nconst HANDLE_ERROR = 'HANDLE_ERROR';\nconst SET_ACTIVE_COLUMN = 'SET_ACTIVE_COLUMN';\nconst SET_DIRECTION = 'SET_DIRECTION';\n\nexport const startLoading = () => ({ type: START_LOADING });\nexport const handleError = () => ({ type: HANDLE_ERROR });\nexport const handleSuccess = combinedTodos => ({\n  type: HANDLE_SUCCESS,\n  combinedTodos,\n});\nexport const setActiveColumn = activeColumn => ({\n  type: SET_ACTIVE_COLUMN,\n  activeColumn,\n});\nexport const setDirection = direction => ({\n  type: SET_DIRECTION,\n  direction,\n});\n\nexport const loadDataFromServer = () => async(dispatch) => {\n  dispatch(startLoading());\n\n  try {\n    const [todosData, usersData] = await Promise.all([\n      getTodosFromServer(),\n      getUsersFromServer(),\n    ]);\n\n    const combinedData = todosData.map(todo => ({\n      ...todo,\n      user: usersData.find(user => user.id === todo.userId),\n    }));\n\n    return dispatch(handleSuccess(combinedData));\n  } catch (e) {\n    dispatch(handleError());\n  }\n};\nexport const getIsLoading = state => state.isLoading;\nexport const getIsError = state => state.isError;\nexport const getCombinedTodos = state => state.combinedTodos;\nexport const getActiveColumn = state => state.activeColumn;\nexport const getDirection = state => state.direction;\n\nconst initialState = {\n  combinedTodos: [],\n  isLoading: false,\n  isError: false,\n  activeColumn: '',\n  direction: 'asc',\n};\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case START_LOADING:\n      return {\n        ...state,\n        isLoading: true,\n        isError: false,\n      };\n\n    case HANDLE_SUCCESS:\n      return {\n        ...state,\n        combinedTodos: action.combinedTodos,\n        isLoading: false,\n      };\n\n    case HANDLE_ERROR:\n      return {\n        ...state,\n        isLoading: false,\n        isError: true,\n      };\n\n    case SET_ACTIVE_COLUMN:\n      return {\n        ...state,\n        activeColumn: action.activeColumn,\n      };\n\n    case SET_DIRECTION:\n      return {\n        ...state,\n        direction: action.direction,\n      };\n\n    default:\n      return state;\n  }\n};\n\nconst store = createStore(\n  reducer,\n  initialState,\n  applyMiddleware(thunk),\n);\n\nexport default store;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst TodoItem = ({ item }) => (\n  <tr>\n    <td>{item.id}</td>\n    <td>{item.title}</td>\n    <td>{item.completed ? 'Yes' : 'No'}</td>\n    <td>{item.user.name}</td>\n  </tr>\n);\n\nTodoItem.propTypes = { item: PropTypes.shape({\n  id: PropTypes.number,\n  title: PropTypes.string,\n  completed: PropTypes.bool,\n  user: PropTypes.shape({\n    name: PropTypes.string,\n  }),\n}).isRequired };\n\nexport default TodoItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport {\n  setActiveColumn,\n  setDirection,\n  getActiveColumn,\n  getDirection,\n} from './store';\nimport TodoItem from './TodoItem';\n\nconst HEADERS = {\n  id: 'Id',\n  title: 'Description',\n  completed: 'Is completed?',\n  user: 'Responsible person',\n};\n\nconst TodoList = (\n  { list, activeColumn, direction, setCurrentColumn, setCurrentDirection }\n) => {\n  const sortList = (clickedColumn) => {\n    if (activeColumn !== clickedColumn) {\n      setCurrentDirection('asc');\n      setCurrentColumn(clickedColumn);\n    } else {\n      setCurrentDirection(direction === 'asc' ? 'desc' : 'asc');\n    }\n  };\n\n  const by = {\n    string: (a, b) => a[activeColumn].localeCompare(b[activeColumn]),\n    number: (a, b) => a[activeColumn] - b[activeColumn],\n    boolean: (a, b) => b[activeColumn] - a[activeColumn],\n    object: (a, b) => a[activeColumn].name.localeCompare(b[activeColumn].name),\n  };\n  const sortType = typeof list[0][activeColumn];\n  const callback = by[sortType] || (() => 0);\n  const sortedTodos = list.sort(callback);\n\n  if (direction === 'desc') {\n    sortedTodos.reverse();\n  }\n\n  return (\n    <table>\n      <thead>\n        <tr>\n          {Object.keys(HEADERS).map(header => (\n            <th\n              onClick={() => sortList(header)}\n              key={header}\n            >\n              {HEADERS[header]}\n            </th>\n          ))}\n        </tr>\n      </thead>\n      <tbody>\n        {sortedTodos.map(todo => (\n          <TodoItem key={todo.id} item={todo} />))}\n      </tbody>\n    </table>\n  );\n};\n\nconst getData = state => ({\n  activeColumn: getActiveColumn(state),\n  direction: getDirection(state),\n});\n\nconst getMethods = {\n  setCurrentColumn: setActiveColumn,\n  setCurrentDirection: setDirection,\n};\n\nTodoList.propTypes = {\n  list: PropTypes.arrayOf(\n    PropTypes.object\n  ).isRequired,\n  activeColumn: PropTypes.string.isRequired,\n  direction: PropTypes.string.isRequired,\n  setCurrentColumn: PropTypes.func.isRequired,\n  setCurrentDirection: PropTypes.func.isRequired,\n};\n\nexport default connect(getData, getMethods)(TodoList);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport {\n  loadDataFromServer,\n  getIsLoading,\n  getIsError,\n  getCombinedTodos,\n} from './store';\nimport TodoList from './TodoList';\nimport './App.css';\n\nconst App = ({ combinedTodos, isLoading, isError, loadData }) => {\n  const startDataLoading = async() => {\n    await loadData();\n  };\n\n  return (\n    <div className=\"App\">\n      <h1>Dynamic list of todos with Redux</h1>\n\n      {combinedTodos.length ? (\n        <TodoList list={combinedTodos} />\n      ) : (\n        <>\n          <h2>{isError ? 'Error occured!!!' : 'No TodoList yet!'}</h2>\n\n          <button\n            className=\"load-btn\"\n            type=\"button\"\n            onClick={startDataLoading}\n          >\n            {isLoading ? 'Loading...' : 'Load TodoList'}\n          </button>\n        </>\n      )}\n    </div>\n  );\n};\n\nconst getData = state => ({\n  combinedTodos: getCombinedTodos(state),\n  isLoading: getIsLoading(state),\n  isError: getIsError(state),\n});\n\nconst getMethods = { loadData: loadDataFromServer };\n\nApp.propTypes = {\n  combinedTodos: PropTypes.arrayOf(\n    PropTypes.object\n  ).isRequired,\n  isLoading: PropTypes.bool.isRequired,\n  isError: PropTypes.bool.isRequired,\n  loadData: PropTypes.func.isRequired,\n};\n\nexport default connect(getData, getMethods)(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport App from './App';\nimport store from './store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>\n  ,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}